ingresses:
  loki-read:
    enabled: false
    name: '{{ include "loki.fullname" . }}-read'
    service:
      name: '{{ include "loki.fullname" . }}-read'
      port: 3100
    className: konghq
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-konghq
      konghq.com/plugins: loki-read-ip-restriction
    hosts:
      - host: "loki.{{ .Values.global.company.domain.env }}"
        paths:
          - path: /
            pathType: ImplementationSpecific
    tls:
      - secretName: loki-read-tls
        hosts:
          - "loki.{{ .Values.global.company.domain.env }}"

kong-plugins:
  enabled: false
  plugins:
    - name: loki-read-ip-restriction
      plugin_name: ip-restriction
      annotations:
        kubernetes.io/ingress.class: konghq
      config:
        allow:
          - "{{ .Values.global.network.int_nat_gw }}"

loki:
  enabled: false
  deploymentMode: SimpleScalable
  global:
    extraArgs:
      - '-log.format=json'
  test:
    enabled: false
  lokiCanary:
    enabled: false
  serviceAccount:
    create: false
    name: grafana-loki
  loki:
    auth_enabled: false
    limits_config:
      discover_log_levels: false
      discover_service_name: []
      ingestion_rate_mb: 90
      ingestion_burst_size_mb: 40
      max_global_streams_per_user: 9000
      max_label_names_per_series: 20
      per_stream_rate_limit: 15MB
      per_stream_rate_limit_burst: 30MB
    analytics:
      reporting_enabled: false
    storage:
      use_thanos_objstore: false
    schemaConfig:
      configs: []
  gateway:
    enabled: false
  ingress:
    enabled: false
  ruler:
    enabled: false
