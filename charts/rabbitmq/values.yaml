ingresses:
  main:
    enabled: false
    name: '{{ include "rabbitmq.fullname" . }}-main'
    service:
      name: '{{ include "rabbitmq.fullname" . }}-rabbitmq-main'
      port: 15672
    className: "{{ .Values.global.ingress.class }}"
    annotations:
      cert-manager.io/cluster-issuer: '{{ printf "letsencrypt-%s" .Values.global.ingress.class }}'
      ingress.pomerium.io/policy: |
        {{- tpl .Values.global.pomerium.policy.default $ | indent 2}}
    hosts:
    - host: "rm.{{ .Values.global.company.domain.env }}"
      paths:
      - path: /
        pathType: ImplementationSpecific
    tls:
    - secretName: rm-tls
      hosts:
      - "rm.{{ .Values.global.company.domain.env }}"

rabbitmq-cluster-operator:
  enabled: false
  global:
    security:
      allowInsecureImages: true
  rabbitmqImage:
    registry: docker.io
    repository: rabbitmq
    tag: 4.1.3
  credentialUpdaterImage:
    registry: docker.io
    repository: rabbitmqoperator/default-user-credential-updater
    tag: 1.0.8
  useCertManager: true
  clusterOperator:
    image:
      registry: docker.io
      repository: rabbitmqoperator/cluster-operator
      tag: 2.16.1
    resources:
      limits:
        cpu: 100m
        memory: 100Mi
      requests:
        cpu: 10m
        memory: 25Mi
  msgTopologyOperator:
    image:
      registry: docker.io
      repository: rabbitmqoperator/messaging-topology-operator
      tag: 1.17.4
    resources:
      limits:
        cpu: 100m
        memory: 100Mi
      requests:
        cpu: 10m
        memory: 25Mi

rabbitmq-main:
  enabled: false
  serviceMonitor:
    enabled: true
    selector:
      prometheus: main
###########################
# Rmq configuration example
###########################
#  annotations:
#    rabbitmq.com/topology-allowed-namespaces: "namespace1,namespace2"
#  replicas: 3
#  override:
#    statefulSet:
#      spec:
#        template:
#          metadata:
#            labels:
#              #proper labeling is needed for
#              #observability
#              app.kubernetes.io/instance: '{{ include "rabbitmq-cluster.fullname" . }}'#
#  persistence:
#    storageClassName: premium-rwo
#    storage: 10Gi
#
#  vhosts:
#    somevhost:
#      default_queue_type: quorum
