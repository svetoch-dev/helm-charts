labels: {}

company:
  name: #example
  gcp:
    project_id: #example-production
  domain:
    name: #example.com

env:
  name: #aws-prd or aws-int or aws-stg
  server: #https://2.2.2.2

repository:
  url: #git@github.com:ggramal/infrared.git
  charts: argocd/charts/infra
  app_charts: argocd/charts/app
  envs: argocd/environments
  envs_from_charts: ../../../environments
  revision: master


manifests:
  enabled: false
  directory: {}
  revision:
  labels: {}
  finalizers: {}
  syncPolicy: {}

crds:
  enabled: false
  operators: {}
#    argocd:
#      enabled: true
#    grafana-operator:
#      enabled: true
#    prometheus-operator:
#      enabled: true
#    cert-manager:
#      enabled: true
#      directory:
#        recurse: true
#    external-dns:
#      enabled: true
#      revision: test
#    konghq:
#      enabled: true
#    postgres-operator:
#      enabled: true
#    redis-operator:
#      enabled: true
#    rabbitmq-cluster:
#      enabled: true
#    rabbitmq-messaging-topology:
#      enabled: true

  labels: {}
  finalizers: {}
  syncPolicy: {}

chart_apps:
  argocd:
    enabled: false
    values: |
      argo-cd:
        controller:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: argocd@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}
        server:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: argocd@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}

          ingress:
            hostname: "argocd.int.{{ .Values.company.domain.name }}"
            pathType: ImplementationSpecific
            tls: true
  thanos:
    enabled: false
    values: |
      prd:
        compactor:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: thanos@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}
        storegateway:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: thanos@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}
        query:
          stores:
            - thanos.prd.{{ .Values.company.domain.name }}:443
      dev:
        compactor:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: thanos@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}
        storegateway:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: thanos@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}
        query:
          stores:
            - thanos.dev.{{ .Values.company.domain.name }}:443
      int:
        compactor:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: thanos@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}
        storegateway:
          serviceAccount:
            annotations:
              {{- if .Values.company.gcp.project_id }}
              iam.gke.io/gcp-service-account: thanos@{{ .Values.company.gcp.project_id }}.iam.gserviceaccount.com
              {{- end }}


#  argocd:
#    enabled: false
#    chart: argocd/charts/argocd
#    name: omega-argocd
#    revision:
#    labels: {}
#    finalizers: {}
#    syncPolicy: {}
